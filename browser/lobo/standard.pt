<html i18n:domain="loops">


<metal:block define-macro="layout">
  <tal:part repeat="part item/getParts">
    <metal:part use-macro="part/macro" />
  </tal:part>
</metal:block>


<metal:block define-macro="grid">
  <tal:cell repeat="cell part/getChildren">
    <div tal:attributes="class cell/cssClass;
                         style cell/style">
      <a tal:attributes="href cell/targetUrl;
                         title cell/description">
        <metal:image use-macro="item/macros/image" />
        <div class="legend">
          <b tal:content="cell/title" /><br />
          <i tal:content="cell/description" />
        </div>
      </a>
    </div>
  </tal:cell>
</metal:block>


<metal:block define-macro="list1">
  <tal:cell repeat="cell part/getChildren">
    <div tal:attributes="class python:cell.cssClass[0]">
      <a tal:attributes="href cell/targetUrl;
                         title cell/description">
        <metal:image use-macro="item/macros/image" />
      </a>
    </div>
    <div tal:attributes="class python:cell.cssClass[1]">
      <a tal:attributes="href cell/targetUrl">
        <b tal:content="cell/title" /><br />
        <i tal:content="cell/description" />
      </a>
    </div>
  </tal:cell>
</metal:block>


<metal:block define-macro="header1">
  <div tal:define="cell part/getView">
    <metal:headline use-macro="item/macros/headline" />
    <div tal:attributes="class python:part.cssClass[0]">
      <metal:image use-macro="item/macros/image" />
    </div>
    <div tal:attributes="class python:part.cssClass[1]">
      <span tal:content="cell/textDescription" />
    </div>
    <div tal:condition="cell/renderedText"
         tal:attributes="class python:part.cssClass[2]">
      <br />
      <metal:text use-macro="item/macros/text" />
    </div>
    <tal:break condition="cell/img">
      <br style="clear: both" />&nbsp;</tal:break>
  </div>
</metal:block>


<metal:block define-macro="header2">
  <div tal:define="cell part/getView">
    <metal:headline use-macro="item/macros/headline" />
    <metal:image use-macro="item/macros/image" />
    <metal:text use-macro="item/macros/text" />
  </div>
</metal:block>


<!-- basic component macros -->

<metal:image define-macro="image">
    <img tal:condition="cell/img"
         tal:attributes="src cell/img/src;
                         class cell/img/cssClass" />
</metal:image>


<metal:block define-macro="text">
    <span tal:content="structure cell/renderedText" />
</metal:block>


<metal:block define-macro="headline">
  <h1 tal:attributes="ondblclick cell/openEditWindow">
    <a tal:attributes="href cell/targetUrl"
       tal:content="cell/title" /></h1>
  <div tal:condition="cell/description">
    <i tal:content="cell/description" /><br />&nbsp;</div>
</metal:block>


</html>
