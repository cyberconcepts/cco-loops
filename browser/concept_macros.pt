<metal:data define-macro="conceptdata">
  <div tal:attributes="class string:content-$level;">
        <div class="subcolumn">
          <div style="margin-right: 50px">
            <metal:fields use-macro="item/template/macros/conceptparents" />
          </div>
          <fieldset class="box"
                    style="margin: 30px 20px 15px 30px">
            <metal:fields use-macro="item/template/macros/concepttitle" />
            <metal:fields use-macro="item/template/macros/conceptfields" />
          </fieldset>
          <div style="margin-right: 50px">
            <metal:fields use-macro="item/template/macros/conceptchildren" />
          </div>
        </div>
        <div class="subcolumn" style="margin-top: 60px">
          <metal:fields use-macro="item/template/macros/conceptresources" />
        </div>
  </div>
</metal:data>


<metal:title define-macro="concepttitle">
    <h1 tal:attributes="ondblclick item/openEditWindow">
      <span tal:content="item/title">Title</span>
    </h1>
</metal:title>


<metal:fields define-macro="conceptfields">
    <table tal:attributes="ondblclick item/openEditWindow">
      <tr tal:repeat="field item/fieldData">
        <td><span tal:content="field/title"
                  i18n:translate="" />:</td>
        <td tal:content="structure field/widget"></td>
      </tr>
    </table>
</metal:fields>


<metal:parents define-macro="conceptparents">
      <fieldset tal:attributes="class string:content-$level box;
                                ondblclick python: item.openEditWindow('configure.html')">
        <legend>Parents</legend>
        <div tal:repeat="related item/parents">
          <a href="#"
             tal:attributes="href string:${view/url}/.target${related/uniqueId}"
             tal:content="related/title">Concept Title</a>
        </div>
      </fieldset>
</metal:parents>


<metal:children define-macro="conceptchildren">
      <fieldset tal:attributes="class string:content-$level box;
                                ondblclick python: item.openEditWindow('configure.html')">
        <legend>Children</legend>
        <div tal:repeat="related item/children">
          <a href="#"
             tal:attributes="href string:${view/url}/.target${related/uniqueId}"
             tal:content="related/title">Concept Title</a>
        </div>
      </fieldset>
</metal:children>


<metal:resources define-macro="conceptresources">
      <fieldset tal:attributes="class string:content-$level box;
                                ondblclick python: item.openEditWindow('resources.html')">
        <legend>Resources</legend>
        <div tal:repeat="related item/resources">
          <a href="#"
             tal:attributes="href string:${view/url}/.target${related/uniqueId}"
             tal:content="related/title">Resource Title</a>
        </div>
      </fieldset>
</metal:resources>


<metal:listing define-macro="conceptlisting">
  <div>
    <metal:fields use-macro="item/template/macros/concepttitle" />
    <metal:listing define-macro="conceptlisting2">
      <metal:fields use-macro="item/template/macros/conceptparents" />
      <metal:fields use-macro="item/template/macros/conceptchildren" />
      <metal:fields use-macro="item/template/macros/conceptresources" />
    </metal:listing>
  </div>
</metal:listing>
