<html i18n:domain="loops">


<div metal:define-macro="results">
  <h2 i18n:translate="">Work Items</h2>
  <table>
    <tr>
        <th tal:repeat="col view/displayedColumns"
            tal:content="col/title"
            i18n:translate="" />
    </tr>
    <tr tal:repeat="row view/results">
        <tal:column repeat="col view/displayedColumns">
            <p tal:content="col/renderer" />
            <xmetal:column use-macro="python:view.getColumnRenderer(col.renderer)" />
        </tal:column>
    </tr>
  </table>
</div>


<div metal:define-macro="xx_results">
  Work Items Listing
  <table class="listing">
      <tr>
        <tal:colheader repeat="column work/allColumns">
          <th tal:condition="python: column in work.columns"
              tal:content="column"
              i18n:translate="">Task</th>
        </tal:colheader>
      </tr>
      <tal:workitem tal:repeat="row work/listWorkItems">
        <tr tal:condition="row/monthChanged">
          <td class="headline"
              tal:attributes="colspan python: len(work.columns)"
              tal:content="row/month">2009-01</td></tr>
        <tr tal:attributes="class python:
                                (repeat['row'].odd() and 'even' or 'odd')">
          <td class="nowrap center"
              tal:define="today python: row.isToday and ' today' or ''"
              tal:attributes="title row/weekDay;
                              class string:nowrap center$today"
              i18n:attributes="title"
              tal:content="row/day">2007-03-30</td>
          <td class="nowrap center" tal:content="row/start">17:30</td>
          <td class="nowrap center" tal:content="row/end">20:00</td>
          <td class="nowrap center" tal:content="row/duration">2:30</td>
          <td tal:condition="python: 'Task' in work.columns">
            <a tal:attributes="href row/objectData/url"
               tal:content="row/objectData/title">Task</a></td>
          <td tal:condition="python: 'User' in work.columns">
            <a tal:attributes="href row/user/url"
              tal:content="row/user/title">John</a></td>
          <td tal:content="row/track/title"
              tal:attributes="title row/descriptionPlain">Title</td>
        </tr>
      </tal:workitem>
  </table>
</div>


</html>
