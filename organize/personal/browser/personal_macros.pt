<metal:actions define-macro="favorites_portlet"
               tal:define="view nocall:context/@@favorites_view;
                           targetUid view/targetUid">
    <div tal:repeat="item view/listFavorites">
      <span style="float:right" class="delete-item">&nbsp;<a href="removeFavorite.html"
          tal:attributes="href
                string:${view/virtualTargetUrl}/removeFavorite.html?id=${item/uid};
                          title string:Remove from favorites"
          i18n:attributes="title">X</a>&nbsp;</span>
      <a tal:attributes="href item/url;
                         title item/description"
         tal:content="item/title">Some object</a>
    </div>
    <div id="addFavorite" class="action"
         tal:condition="targetUid">
      <a i18n:translate=""
         tal:attributes="href
                string:${view/virtualTargetUrl}/addFavorite.html?id=$targetUid;
                         title string:Add current object to favorites"
         i18n:attributes="title">Add to Favorites</a>
    </div>
</metal:actions>


<metal:actions define-macro="filters_portlet"
               tal:define="view nocall:context/@@filters_view;
                           targetUid view/targetUid">
    <div tal:repeat="item view/listFilters">
      <span style="float:right" class="delete-item">&nbsp;<a href="removeFilter.html"
          tal:attributes="href
                string:${view/virtualTargetUrl}/deactivateFilter.html?id=${item/uid};
                          title string:Deactivate filter"
          i18n:attributes="title">X</a>&nbsp;</span>
      <a tal:attributes="href item/url;
                         title item/description">
        <span tal:content="item/title">Some object</span>
        (<i i18n:translate="" tal:content="item/typeTitle">Type</i>)</a>
    </div>
    <div id="addFilter" class="action"
         tal:condition="targetUid">
      <a i18n:translate=""
         tal:attributes="href
                string:${view/virtualTargetUrl}/addFilter.html?id=$targetUid;
                         title string:Use current object as filter"
         i18n:attributes="title">Add Filter</a>
    </div>
</metal:actions>


<metal:block define-macro="notifications">
  <div tal:attributes="class string:content-$level;">
    <metal:title use-macro="item/concept_macros/concepttitle" />
    <table class="listing">
      <tr class="header">
        <th>Date/Time</th>
        <th>Sender</th>
        <th>Object</th>
        <th>Text</th>
        <th>Date/Time read</th>
      </tr>
      <tr tal:repeat="notif item/getNotifications">
        <td colspan="5"
            tal:content="notif" />
      </tr>
    </table>
  </div>
</metal:block>
