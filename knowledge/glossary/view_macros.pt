<!-- ZPT macros for loops.knowledge.glossary views -->

<metal:block define-macro="glossary">
  <metal:title use-macro="item/conceptMacros/concepttitle" />
  <div>&nbsp;</div>
  <div tal:repeat="related item/children">
      <a href="#"
         tal:content="related/title"
         tal:attributes="href python: view.getUrlForTarget(related);
                         title related/description">
        Topic
      </a>
  </div>
</metal:block>


<metal:block define-macro="glossaryitem">
  <metal:title use-macro="item/conceptMacros/concepttitle" />
  <p>
    <span tal:repeat="related item/children">
      <tal:start condition="repeat/related/start">
        <span i18n:translate="">siehe</span>:</tal:start>
      <a href="#"
         tal:content="related/title"
         tal:attributes="href python: view.getUrlForTarget(related)">
        Topic
      </a><tal:comma condition="not:repeat/related/end">,</tal:comma>
    </span>
  </p>
  <metal:resources use-macro="item/conceptMacros/conceptresources" />
</metal:block>


<metal:block define-macro="children">
  <tr>
    <td colspan="5" class="headline"
        i18n:translate="">Assign Child Concepts</td>
  </tr>
  <tbody id="form.children">
      <tr tal:repeat="relation view/children">
        <td colspan="5">
          <input type="hidden" name="form.children.old:list"
                 tal:attributes="value relation/uidToken"
                 tal:condition="relation/other" />
          <input type="checkbox" checked name="form.children.selected:list"
                 tal:attributes="value relation/uidToken;" />
          <span tal:content="relation/title">Something</span>
          (<span i18n:translate="" tal:content="relation/typeTitle">Something</span>)
        </td>
      </tr>
  </tbody>
  <tr>
    <td><span i18n:translate="">Type</span>:</td>
    <td><b i18n:translate="">Glossary Item</b></td>
    <td>
      <label for="child.search.text">
        <span i18n:translate="">Concept</span>:</label></td>
    <td>
      <input type="hidden"
             id="child.search.predicate"
             tal:attributes="value view/relatedPredicateUid" />
      <input dojoType="comboBox" mode="remote" autoComplete="False"
             name="child.search.text" id="child.search.text"
             tal:attributes="dataUrl
                string:listConceptsForComboBox.js?searchString=%{searchString}&searchType=loops:concept:glossaryitem" />
    </td>
    <td>
      <input type="button" value="Select"
             i18n:attributes="value"
             onClick="addConceptAssignment('child', 'children')" />
    </td>
</tr>
</metal:block>
